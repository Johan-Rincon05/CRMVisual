<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Base ETC - Leads Management</title>
        <link rel="stylesheet" href="CSS/base.css">
    </head>
    <body>    

        <div class="container">
            <div class="sidebar">
                <a href="dashboard.html" class="sidebar-item">Dashboard</a>
                <a href="views/carreras.html" class="sidebar-item">Carreras</a>
                <a href="BASE.html" class="sidebar-item">Base</a>
                <a href="views/ventas.html" class="sidebar-item">Ventas</a>
                <a href="views/promociones.html" class="sidebar-item">Promociones Activas</a>
                <a href="views/ayuda.html" class="sidebar-item">Ayuda</a>
            </div>
            <div class="main-content">
                <header class="header">
                    <div class="greeting">Hola Johana üëã</div>
                    <div class="search-bar">
                        <input type="text" placeholder="Buscar" id="searchInput">
                    </div>
                </header>

                <div class="content">
                    <div class="stats">
                        <div class="stat">
                            <span class="value">5,423</span>
                            <span class="label">Total de Leads</span>
                        </div>
                        <div class="stat">
                            <span class="value">1,993</span>
                            <span class="label">En Seguimiento</span>
                        </div>
                        <div class="stat">
                            <span class="value">189</span>
                            <span class="label">Suscripciones</span>
                        </div>
                    </div>
                    
                    <div class="create-lead-section">
                        <button id="createLeadBtn" class="create-lead-btn">
                            <span class="plus-icon">+</span>
                            Crear Nuevo Lead
                        </button>
                    </div>

                    <div class="careers-table">
                        <table id="leadsTable">
                            <thead>
                                <tr>
                                    <th>Nombre</th>
                                    <th>Pauta</th>
                                    <th>N√∫mero de Tel.</th>
                                    <th>Correo</th>
                                    <th>Ciudad</th>
                                    <th>Estado</th>
                                </tr>
                            </thead>
                            <tbody id="leadsTableBody">
                                <tr>
                                    <td>David Rodriguez</td>
                                    <td>Lic. en Educaci√≥n</td>
                                    <td>3202536471</td>
                                    <td>prueba@gmail.com</td>
                                    <td>Bogot√°</td>
                                    <td class="active">Seguimiento</td>
                                </tr>
                                <tr>
                                    <td>Paula Moreno</td>
                                    <td>Ing. Industrial</td>
                                    <td>3202536471</td>
                                    <td>prueba2@gmail.com</td>
                                    <td>Bogot√°</td>
                                    <td class="inactive">No le interesa</td>
                                </tr>
                                <tr>
                                    <td>Santiago Rodriguez</td>
                                    <td>Psicolog√≠a</td>
                                    <td>3202536471</td>
                                    <td>prueba3@gmail.com</td>
                                    <td>Bogot√°</td>
                                    <td class="inactive">Equivocado</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div id="modal-overlay" class="modal-overlay">
            <div class="modal-content">
                <span class="modal-close" onclick="closeModal()">√ó</span>
                
                <div class="modal-tabs">
                    <button class="modal-tab active" onclick="switchTab('form')">Actualizar Aspirante</button>
                    <button class="modal-tab" onclick="switchTab('chat')">Seguimiento</button>
                    <button class="modal-tab" onclick="switchTab('documents')">Documentos</button>
                </div>
        
                <div id="formTab" class="tab-content active">
                    <form id="leadForm" class="modal-form">
                        <div>
                            <label for="full_name">Nombre Completo</label>
                            <input type="text" id="full_name" name="full_name">
                        </div>
                        <div>
                            <label for="status">Estado</label>
                            <select id="status" name="status">
                                <option value="active">Seguimiento</option>
                                <option value="inactive">No le interesa</option>
                                <option value="wrong">Equivocado</option>
                                <option value="suscrito">Suscrito</option>
                                <option value="Sin Contacto">Sin Contacto</option>
                            </select>
                        </div>
                        <div>
                            <label for="pauta">Pauta</label>
                            <input type="text" id="pauta" name="pauta">
                        </div>
                        <div>
                            <label for="document_type">Tipo de documento</label>
                            <select id="document_type" name="document_type">
                                <option value="CC">C√©dula de Ciudadan√≠a</option>
                                <option value="TI">Tarjeta de Identidad</option>
                                <option value="NUIP">NUIP</option>
                            </select>
                        </div>
                        <div>
                            <label for="age">Edad</label>
                            <input type="number" id="age" name="age" required>
                        </div>
                        <div>
                            <label for="phone">N√∫mero de Tel√©fono</label>
                            <input type="text" id="phone" name="phone">
                        </div>
                        <div>
                            <label for="email">Correo Electr√≥nico</label>
                            <input type="email" id="email" name="email">
                        </div>
                        <div>
                            <label for="birth_place">Lugar de nacimiento</label>
                            <input type="text" id="birth_place" name="birth_place">
                        </div>
                        <div>
                            <label for="city">Ciudad de Residencia</label>
                            <input type="text" id="city" name="city">
                        </div>
                        <div>
                            <label for="residence_zone">Zona de residencia</label>
                            <select id="residence_zone" name="residence_zone">
                                <option value="urbana">Zona urbana</option>
                                <option value="rural">Zona rural</option>
                            </select>
                        </div>
                        <div>
                            <label for="neighborhood">Barrio</label>
                            <input type="text" id="neighborhood" name="neighborhood">
                        </div>
                        <div>
                            <label for="address">Direcci√≥n</label>
                            <input type="text" id="address" name="address">
                        </div>
                        <div>
                            <label for="stratum">Estrato</label>
                            <input type="number" id="stratum" name="stratum">
                        </div>
                        <div>
                            <label for="employment_status">Ocupaci√≥n</label>
                            <select id="employment_status" name="employment_status" required>
                                <option value="student">Estudiante</option>
                                <option value="unemployed">Desempleado</option>
                                <option value="employed">Empleado</option>
                                <option value="self-employed">Independiente</option>
                            </select>
                        </div>
                        <div>
                            <label for="preferred_contact_time">Hora Preferida de Contacto</label>
                            <input type="time" id="preferred_contact_time" name="preferred_contact_time" required>
                        </div>
                        <div>
                            <label for="education_level">Nivel de Educaci√≥n</label>
                            <select id="education_level" name="education_level" required>
                                <option value="high_school">Secundaria</option>
                                <option value="technical">T√©cnico</option>
                                <option value="technological">Tecnol√≥gico</option>
                                <option value="professional">Profesional</option>
                                <option value="postgraduate">Postgrado</option>
                            </select>
                        </div>
                        <div>
                            <label>Estrato*</label>
                            <select name="social_stratum" required>
                                <option value="">Seleccionar</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                            </select>
                        </div>
                        <div>
                            <label>Tipo de Sangre*</label>
                            <select name="blood_type" required>
                                <option value="">Seleccionar</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                            </select>
                        </div>
                        <div>
                            <label>¬øEs v√≠ctima del conflicto armado?*</label>
                            <select name="conflict_victim" required>
                                <option value="">Seleccionar</option>
                                <option value="si">S√≠</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                        <div>
                            <label>√öltimo T√≠tulo*</label>
                            <select name="last_degree" required>
                                <option value="">Seleccionar</option>
                                <option value="grado_9">Grado 9¬∞</option>
                                <option value="grado_11">Grado 11¬∞</option>
                                <option value="tecnico">T√©cnico</option>
                                <option value="tecnologo">Tecn√≥logo</option>
                                <option value="profesional">Profesional</option>
                            </select>
                        </div>
                        <div>
                            <label>Nombre del √öltimo T√≠tulo*</label>
                            <input type="text" name="degree_name" required>
                        </div>
                        <div>
                            <label>Fecha de Ingreso*</label>
                            <input type="date" name="entry_date" required>
                        </div>
                        <div>
                            <label>Tiempo de Estudio*</label>
                            <input type="text" name="study_duration" required>
                        </div>
                        <div>
                            <label>Programa de Inter√©s*</label>
                            <input type="text" name="interest_program" required>
                        </div>
                        <div>
                            <label>Forma de Pago del Programa*</label>
                            <select name="payment_method" required>
                                <option value="">Seleccionar</option>
                                <option value="contado">Contado</option>
                                <option value="credito">Cr√©dito</option>
                                <option value="financiacion">Financiaci√≥n</option>
                            </select>
                        </div>
                        <div>
                            <label>Nombre del Orientador*</label>
                            <input type="text" name="advisor_name" required>
                        </div>
                        <div>
                            <label>Universidad a la que Ingresas*</label>
                            <input type="text" name="university" required>
                        </div>
                        <div>
                            <label>Fecha de Pago*</label>
                            <input type="date" name="payment_date" required>
                        </div>
                        <div>
                            <label>Estado Civil*</label>
                            <select name="marital_status" required>
                                <option value="">Seleccionar</option>
                                <option value="soltero">Soltero/a</option>
                                <option value="casado">Casado/a</option>
                                <option value="union_libre">Uni√≥n Libre</option>
                                <option value="divorciado">Divorciado/a</option>
                                <option value="viudo">Viudo/a</option>
                            </select>
                        </div>
                        <div class="payment-section">
                            <h3>Informaci√≥n de Pago</h3>
                            <div class="payment-fields">
                                <div>
                                    <label for="payment_method">M√©todo de Pago*</label>
                                    <select id="payment_method" name="payment_method">
                                        <option value="">Seleccionar m√©todo</option>
                                        <option value="efectivo">Efectivo</option>
                                        <option value="qr">QR</option>
                                        <option value="nequi">Nequi</option>
                                        <option value="daviplata">Daviplata</option>
                                        <option value="pse">PSE</option>
                                        <option value="efecty">Efecty</option>
                                        <option value="consignacion">Consignaci√≥n al banco</option>
                                        <option value="datafono">Dat√°fono</option>
                                        <option value="nequi_autorizado">Nequi Autorizado</option>
                                        <option value="transfiya">TransfiYa</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="payment_proof">Comprobante de Pago*</label>
                                    <input type="file" id="payment_proof" name="payment_proof" accept="image/*,.pdf">
                                    <span id="payment-proof-status" class="upload-status"></span>
                                </div>
                            </div>
                        </div>
                        <button type="button" class="update-button" onclick="updateLead()">Actualizar</button>
                    </form>
                </div>
        
                <div id="chatTab" class="tab-content">
                    <div class="chat-container" id="chatMessages"></div>
                    <div class="chat-input-container">
                        <select id="chatStatus" name="chatStatus">
                            <option value="active">Seguimiento</option>
                            <option value="inactive">No le interesa</option>
                            <option value="wrong">Equivocado</option>
                            <option value="suscrito">Suscrito</option>
                            <option value="Sin Contacto">Sin Contacto</option>
                        </select>
                        <textarea id="chatMessage" placeholder="Escribe tu mensaje aqu√≠..." rows="3"></textarea>
                        <div class="chat-controls">
                            <button class="update-button" onclick="addChatMessage()">Enviar Actualizaci√≥n</button>
                        </div>
                    </div>
                </div>
        
                <div id="documentsTab" class="tab-content">
                    <div class="documents-container">
                        <div class="document-upload-section">
                            <h3>Documentos Requeridos</h3>
                            <div class="document-item">
                                <label>C√©dula de Ciudadan√≠a</label>
                                <input type="file" accept="application/pdf" id="cedula" onchange="handleFileUpload(this, 'cedula')">
                                <span class="upload-status" id="cedula-status"></span>
                            </div>
                            <div class="document-item">
                                <label>EPS</label>
                                <input type="file" accept="application/pdf" id="eps" onchange="handleFileUpload(this, 'eps')">
                                <span class="upload-status" id="eps-status"></span>
                            </div>
                            <div class="document-item">
                                <label>Diploma Bachiller</label>
                                <input type="file" accept="application/pdf" id="bachiller" onchange="handleFileUpload(this, 'bachiller')">
                                <span class="upload-status" id="bachiller-status"></span>
                            </div>
                            <div class="document-item">
                                <label>T√≠tulo</label>
                                <input type="file" accept="application/pdf" id="titulo" onchange="handleFileUpload(this, 'titulo')">
                                <span class="upload-status" id="titulo-status"></span>
                            </div>
                            <div class="document-item">
                                <label>ICFES</label>
                                <input type="file" accept="application/pdf" id="icfes" onchange="handleFileUpload(this, 'icfes')">
                                <span class="upload-status" id="icfes-status"></span>
                            </div>
                            <div class="document-item">
                                <label>Sabana de Notas</label>
                                <input type="file" accept="application/pdf" id="sabana" onchange="handleFileUpload(this, 'sabana')">
                                <span class="upload-status" id="sabana-status"></span>
                            </div>
                            <div class="document-item">
                                <label>Contrato INCCA</label>
                                <input type="file" accept="application/pdf" id="contrato" onchange="handleFileUpload(this, 'contrato')">
                                <span class="upload-status" id="contrato-status"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> 
        
        <script src="JS/script_base.js"></script>

        <div id="warning-modal" class="warning-modal">
            <div class="warning-content">
                <h3>¬°Atenci√≥n!</h3>
                <p>Si ingresas a este Lead tendr√°s que dejar alguna actualizaci√≥n en seguimiento</p>
                <div class="warning-buttons">
                    <button onclick="acceptWarning()">Aceptar</button>
                    <button onclick="cancelWarning()">Cancelar</button>
                </div>
            </div>
        </div>
        
    </body>
</html>